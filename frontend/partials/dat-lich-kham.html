<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Đặt lịch khám</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <div data-include="header.html"></div>

  <main class="booking-page">
    <section class="booking-grid">
      <div class="booking-card">
        <h1>Đặt lịch khám</h1>
        <p class="lead">Nhập thông tin, chọn khoa, ngày và giờ khám.</p>

        <form id="bookingForm" class="form-stack" novalidate>
          <div class="form-group">
            <label for="fullName">Họ và tên người đặt</label>
            <input type="text" id="fullName" name="fullName" placeholder="Nguyễn Văn A" required />
            <div class="error" data-error="fullName"></div>
          </div>

          <div class="form-group">
            <label for="cccd">Số CCCD</label>
            <input
              type="text"
              id="cccd"
              name="cccd"
              inputmode="numeric"
              pattern="\\d{12}"
              maxlength="12"
              placeholder="12 chữ số"
              required
            />
            <div class="inline-tip">Chỉ chấp nhận đúng 12 chữ số.</div>
            <div class="error" data-error="cccd"></div>
          </div>

          <div class="form-group">
            <label for="specialtySelect">Khoa muốn đặt</label>
            <select id="specialtySelect" name="specialty" required>
              <option value="">— Chọn khoa —</option>
            </select>
            <div class="inline-tip">Danh sách lấy từ trang Đội ngũ bác sĩ.</div>
            <div class="error" data-error="specialty"></div>
          </div>

          <div class="form-group">
            <label for="doctorSelect">Bác sĩ</label>
            <select id="doctorSelect" name="doctor" required>
              <option value="">— Chọn bác sĩ —</option>
            </select>
            <div class="inline-tip">Tự lọc theo khoa đã chọn.</div>
            <div class="error" data-error="doctor"></div>
          </div>

          <button type="submit" class="primary-btn">Đặt lịch</button>
        </form>
      </div>

      <div class="calendar-wrap">
        <div class="calendar-head">
          <h2 id="selectedDept">Chưa chọn khoa</h2>
        </div>
        <div class="legend">
          <span><span class="dot free"></span> Còn trống</span>
          <span><span class="dot busy"></span> Đã đặt</span>
        </div>

        <div class="day-picker-wrap">
          <h3 class="section-label">Chọn ngày khám</h3>
          <div id="dayPicker" class="day-picker"></div>
        </div>

        <div class="slot-panel">
          <div class="slot-panel-head">
            <h3 class="section-label">Chọn giờ khám</h3>
            <div id="slotNote" class="slot-note">Chọn ngày để xem giờ còn trống</div>
          </div>
          <div id="slotList" class="slot-list"></div>
        </div>

        <div id="bookingSuccess" class="booking-success" hidden></div>
      </div>
    </section>
  </main>

  <div data-include="footer.html"></div>
  <div data-include="chat.html"></div>

  <script src="../js/app.js"></script>
  <script src="include.js"></script>
</body>
</html>
